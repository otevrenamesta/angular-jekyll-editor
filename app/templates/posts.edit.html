<ul class="breadcrumbs">
  <li><a href="/"><i class="fa fa-home"></i></a></li>
  <li><a href="/posts" translate>posts</a></li>
  <li class="current">{{id}}</li>
</ul>

<div class="row fullWidth">

  <div class="small-12 large-5 columns">

    <form name="frm">

      <textarea class="contentEdit" ng-model="content" ng-change="onContentChange();">
      </textarea>

      <div class="row">
        <div class="large-9 columns">
          <label ng-class="{'error': frm.title.$invalid}">{{"title" | translate}}
            <input name="title" type="text" ng-model="header.title" required />
          </label>
          <small class="error" ng-show="frm.title.$invalid">
            {{"fill title, please" | translate}}
          </small>
        </div>

        <div class="large-3 columns">
          <label>{{"category" | translate}}</label>

          <a class="button tiny dropdown" dropdown-toggle="#dropdown-cat">
            {{header.category}}
          </a>
          <ul id="dropdown-cat" class="f-dropdown">
            <li ng-repeat="cat in jekyllCfg.cats">
              <a href="#" ng-click="setAttr(header, 'category', cat);">{{cat}}</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="row">
        <div class="large-12 columns">
          <label>{{"commit message" | translate}}
            <input type="text" placeholder="{{'updating'|translate}} {{path}}"
              ng-model="commitmessage"/>
          </label>
        </div>
      </div>

      <div class="row">
        <div class="large-12 columns">
          <label ng-class="{'error': frm.description.$invalid}">{{"meta description" | translate}}
            <textarea name="description" ng-model="header.description" required>
            </textarea>
          </label>
          <small class="error" ng-show="frm.description.$invalid">
            {{"fill short (1 - 2 sentences) description of this content, please" | translate}}
          </small>
        </div>
      </div>

      <div class="row">
        <div class="large-12 columns">
          <label>{{"tags" | translate}}</label>
          <tags-input ng-model="header.tags" addFromAutocompleteOnly="true"
            placeholder="{{'add reasonable tags'|translate}}"
            onTagAdded="" onTagRemoved="" required>
            <auto-complete source="loadTags($query)" min-length="1"
              debounce-delay="0" loadOnDownArrow="true" loadOnFocus="true">
            </auto-complete>
          </tags-input>
        </div>
      </div>

      <div class="row">
        <div class="small-12 large-12 columns">

          <ul class="button-group radius">
            <li><a href="#" class="button" ng-disabled="frm.$invalid" ng-click="save();" translate>save</a></li>
            <li><a href="/posts" class="button">cancel</a></li>
          </ul>

        </div>
      </div>

    </form>

  </div>


  <div class="small-12 large-7 columns">
    <div btf-markdown="content"></div>
  </div>

</div>
